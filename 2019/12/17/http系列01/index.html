<!DOCTYPE html>
<html lang='zh-CN'>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="renderer" content="webkit">
<meta http-equiv="Cache-Control" content="no-siteapp"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>http系列01||SunnyFeng|</title>
<meta name="description" content="1. 浏览器背后的故事​    用户在浏览器中输入URL地址，浏览器根据URL向 DNS（域名系统）服务器发送请求，DNS服务器根据域名查询到对应的IP地址并返回给浏览器，浏览器根据得到的IP地址向web服务器发起请求，请求相应的数据，web服务器返回给浏览器所请求的数据(如：HTML&#x2F;CSS&#x2F;JS 等)，浏览器将这些数据进行渲染后，显示给用户看。 ​    过程如下图所示： ​      2.">
<meta property="og:type" content="article">
<meta property="og:title" content="http系列01">
<meta property="og:url" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;index.html">
<meta property="og:site_name" content="SunnyFeng">
<meta property="og:description" content="1. 浏览器背后的故事​    用户在浏览器中输入URL地址，浏览器根据URL向 DNS（域名系统）服务器发送请求，DNS服务器根据域名查询到对应的IP地址并返回给浏览器，浏览器根据得到的IP地址向web服务器发起请求，请求相应的数据，web服务器返回给浏览器所请求的数据(如：HTML&#x2F;CSS&#x2F;JS 等)，浏览器将这些数据进行渲染后，显示给用户看。 ​    过程如下图所示： ​      2.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;brower%E6%B8%B2%E6%9F%93.png">
<meta property="og:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;TCP-IP%E6%95%B0%E6%8D%AE%E6%B5%81.png">
<meta property="og:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;TCP%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.png">
<meta property="og:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;TCP%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B2.png">
<meta property="og:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;DNS%E6%9C%8D%E5%8A%A1%E5%99%A8.png">
<meta property="og:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;HTTP%E5%AE%8C%E6%95%B4%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;brower%E6%B8%B2%E6%9F%93.png">
<meta property="article:published_time" content="2019-12-17T09:51:30.000Z">
<meta property="article:modified_time" content="2019-12-17T10:11:10.107Z">
<meta property="article:author" content="Sunny Feng">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;xinlanfeng.github.io&#x2F;2019&#x2F;12&#x2F;17&#x2F;http%E7%B3%BB%E5%88%9701&#x2F;brower%E6%B8%B2%E6%9F%93.png">


<meta name="description" content="1. 浏览器背后的故事​    用户在浏览器中输入URL地址，浏览器根据URL向 DNS（域名系统）服务器发送请求，DNS服务器根据域名查询到对应的IP地址并返回给浏览器，浏览器根据得到的IP地址向web服务器发起请求，请求相应的数据，web服务器返回给浏览器所请求的数据(如：HTML/CSS/JS">

<meta name="author" content="Sunny Feng,undefined">


<link rel="shortcut icon" href="/favicon.png" type="image/x-icon"/>
<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">


<link rel="stylesheet" href="/css/theme.css">


<link rel="stylesheet" href="/css/syntax.css">


<link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">


<link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.1.0/styles/arta.min.css">

<!--baidu analytics-->

<meta name="generator" content="Hexo 4.1.1"></head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <a class="navbar-brand" href="/.">SunnyFeng</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                
                <li><a href="/." class="current"><i class="icon-home"> 首页</i></a></li>
                
                <li><a href="/archives/"><i class="icon-archive"> 目录</i></a></li>
                
            </ul>
        </div>
    </div>
</nav>
<div class="wrapper">
    <div class="content">
        <div class="container container-center">
            <div class="row">
                <div class="col-md-8">
                    <div class="article">
    <div class="well">
        <h1><a href="/2019/12/17/http%E7%B3%BB%E5%88%9701/">http系列01</a></h1>
        <div class="post-meta">
            <div class="post-time">
                <i class="fa fa-calendar"></i><time> 2019-12-17</time>
            </div>
            <div class="post-visitors-count">
                <i class="fa fa-ge"></i>
                <span id="/2019/12/17/http%E7%B3%BB%E5%88%9701/" class="leancloud_visitors" data-flag-title="http系列01">
                    <span class="post-meta-item-text">阅读量 </span>
                    <i class="leancloud-visitors-count">0</i>
                </span>
            </div>
        </div>
        <div class="post-content article-entry">
            <div id="toc" class="toc"></div>
            <h3 id="1-浏览器背后的故事"><a href="#1-浏览器背后的故事" class="headerlink" title="1. 浏览器背后的故事"></a>1. 浏览器背后的故事</h3><p>​    用户在浏览器中输入URL地址，浏览器根据URL向 DNS（域名系统）服务器发送请求，DNS服务器根据域名查询到对应的IP地址并返回给浏览器，浏览器根据得到的IP地址向web服务器发起请求，请求相应的数据，web服务器返回给浏览器所请求的数据(如：HTML/CSS/JS 等)，浏览器将这些数据进行渲染后，显示给用户看。</p>
<p>​    过程如下图所示：</p>
<p>​    <img src="/2019/12/17/http%E7%B3%BB%E5%88%9701/brower%E6%B8%B2%E6%9F%93.png" class></p>
<hr>
<h3 id="2-HTTP协议"><a href="#2-HTTP协议" class="headerlink" title="2. HTTP协议"></a>2. HTTP协议</h3><ul>
<li>HTTP协议的概念<ul>
<li>超文本传输协议（HTTP）是一种<strong>通信协议</strong>，它允许将超文本标记语言（HTML）文档从Web服务器传送到客户端的浏览器</li>
<li>HTTP是一个属于<strong>应用层的面向对象的协议</strong>，由于其简捷、快速的方式，适用于分布式超媒体信息系统。它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展</li>
</ul>
</li>
<li>Web与HTTP<ul>
<li>Web是一种基于超文本和HTTP的，全球性的，动态交互的，跨平台的分布式<strong>图形信息系统</strong></li>
<li>是建立在Internet上的一种<strong>网络服务</strong>，为浏览者在Internet上查找和浏览信息提供了图形化的、易于访问的直观界面，其中的文档及超链接将Internet上的信息节点组织成一个互为关联的网状结构</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-HTTP数据传输过程"><a href="#3-HTTP数据传输过程" class="headerlink" title="3. HTTP数据传输过程"></a>3. HTTP数据传输过程</h3><ul>
<li><p><strong>发送端</strong>发送数据时，数据会<strong>从上层传输到下层</strong>，且每经过一层都会被<strong>加上该层的头部信息</strong></p>
</li>
<li><p><strong>接收端</strong>接收数据时，数据会<strong>从下层传输到上层</strong>，且<strong>传输前</strong>会<strong>把下层的头部信息删除</strong></p>
</li>
<li><p>具体如下图所示：</p>
<img src="/2019/12/17/http%E7%B3%BB%E5%88%9701/TCP-IP%E6%95%B0%E6%8D%AE%E6%B5%81.png" class>



</li>
</ul>
<hr>
<h3 id="4-传输层——TCP的三次握手"><a href="#4-传输层——TCP的三次握手" class="headerlink" title="4. 传输层——TCP的三次握手"></a>4. 传输层——TCP的三次握手</h3><ul>
<li><p>使用TCP协议进行通信的双方<strong>必须先建立连接</strong>，然后才能开始传输数据</p>
</li>
<li><p>为了确保连接双方的可靠性，在双方建立连接时，TCP协议采用了<strong>三次握手</strong>策略：</p>
</li>
<li><p>如下图所示：</p>
<img src="/2019/12/17/http%E7%B3%BB%E5%88%9701/TCP%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.png" class>



</li>
</ul>
<p>  （为什么要进行三次握手：为了确认客户端与服务端通信双方的接收能力与发送能力都是正常的，防止开启一些无用的连接）</p>
<ul>
<li><p>第一次握手：客户端发送带有SYN标志的连接请求报文段，然后进入SYN_SEND状态，等待服务端的确认</p>
<p>(服务端确认了自己可以接收数据)</p>
</li>
<li><p>第二次握手：服务端接收到客户端的SYN报文段后，需要发送ACK信息对这个SYN报文段进行确认。同时，还要发送自己的SYN请求信息。服务端会将上述信息放到一个报文段（SYN+ACK报文段）中，一并发送给客户端，此时服务器端将会进入SYN_RECV状态（创建连接，server开启tcp的socket的端口）</p>
<p>（客户端确认了自己可以发送和接收数据）</p>
</li>
<li><p>第三次握手：客户端接收到服务端的SYN+ACK报文段后，会向服务端发送ACK确认报文段，这个报文段发送完毕后，客户端和服务端都进入ESTABLISHED状态，完成TCP的三次握手</p>
<p>（服务端确认了自己可以发送数据）</p>
</li>
<li><p>如下图所示：</p>
<img src="/2019/12/17/http%E7%B3%BB%E5%88%9701/TCP%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B2.png" class>



</li>
</ul>
<hr>
<h3 id="4-DNS域名解析"><a href="#4-DNS域名解析" class="headerlink" title="4. DNS域名解析"></a>4. DNS域名解析</h3><ul>
<li><p>通常我们访问一个网站是通过主机名或域名来进行访问的。因为相对于IP地址，域名更容易让人记住</p>
</li>
<li><p>但TCP/IP协议使用的是IP地址进行访问的，所以必须有个机制或服务把域名转换成IP地址</p>
</li>
<li><p><strong>DNS</strong>服务就是用来解决这个问题的，它提供<strong>域名到IP地址之间的解析服务</strong></p>
<img src="/2019/12/17/http%E7%B3%BB%E5%88%9701/DNS%E6%9C%8D%E5%8A%A1%E5%99%A8.png" class>





</li>
</ul>
<ul>
<li>本地电脑会将我们经常使用的域名和其对应的IP地址建立一个<strong>映射关系</strong>，并保存到系统文件中。进行数据请求时，系统会优先到<strong>host文件</strong>中寻找是否缓存了对应域名的IP地址。如果本地没有缓存，则系统会求助于<strong>本地的DNS服务器</strong>，去请求域名对应的IP地址。如果本地的DNS服务器没有找到，则本地的DNS服务器首先会选择在<strong>TCP/IP参数中设置的首选DNS服务器</strong>（可能和本地DNS服务器相同）发送请求，然后<strong>一层一层</strong>的向上一级的DNS服务器发送请求（最多到<strong>DNS根服务器</strong>）（如果设置了转发的话）（如果没设置转发，就直接向13台根DNS服务器发送请求），直到找到所请求域名对应的IP地址。（返回IP地址时也是一层一层返回的）</li>
</ul>
<hr>
<h3 id="5-HTTP完整事务处理过程"><a href="#5-HTTP完整事务处理过程" class="headerlink" title="5. HTTP完整事务处理过程"></a>5. HTTP完整事务处理过程</h3><img src="/2019/12/17/http%E7%B3%BB%E5%88%9701/HTTP%E5%AE%8C%E6%95%B4%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B.jpg" class>

<p><img src="http%E7%B3%BB%E5%88%9701/brower%E6%B8%B2%E6%9F%93.png" alt></p>

        </div>
        
        <div class="tags">
            
        </div>
        
        
        <div class="post-nav">
            
            
            <a class="next" href="/2019/12/17/hello-world/">
                <i class="icon-next">Hello World</i>
            </a>
            
        </div>
        
    </div>
</div>


                </div>
                <div class="col-md-4 hidden-xs">
                    
<div class="sidebar">
    <div class="well">
        <h2>标签云</h2>
        
    </div>
</div>

<div class="sidebar">
    <div class="well">
        <h2>目录</h2>
        <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">2019年12月</a><span class="archive-list-count">2</span></li></ul>
    </div>
</div>

<div class="sidebar ">
    <div class="well">
        <h2>最新文章</h2>
        <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/12/17/http%E7%B3%BB%E5%88%9701/">http系列01</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/17/hello-world/">Hello World</a></li></ul>
    </div>
</div>

<div class="sidebar">
    <div class="well">
        <h2>友情链接</h2>
        <ul>
            
            <li><a class="links-list-link" href="https://xinlanfeng.github.io" title="github" target='_blank'>github</a></li>
            
        </ul>
    </div>
</div>

                </div>
            </div>
        </div>
    </div>
    <div class="side-button-wrap">
        <a id="to-top" class="side-button icon-up-arrow" href="#top"></a>
        <a id="to-home" class="side-button icon-home" href="/."></a>
        <a id="to-comment-button" class="side-button icon-msg" href="#comment"></a>
        <a id="to-bottom-button" class="side-button icon-down-arrow" href="#bottom"></a>
    </div>
    <a id="bottom" name="bottom"></a>
    <footer id="footer" class="footer-distributed" style="background-color: #222222;">
    <div class="container">
        <div class="footer">
            <p>Sunny Feng &copy; 2019</p>
            <ul class="social-media">
                
                
                <li>
                    <a title="hexo-theme-clean-dark" href="https://github.com/howardliu-cn/hexo-theme-clean-dark"
                       target="_blank">
                        <i class="fa fa-film fa-2x"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</footer>

</div>

<script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>


<script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>


<script src="//cdn.bootcss.com/highlight.js/9.1.0/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<script src="/js/header.js"></script>


<script src="/js/toc.js"></script>

<!--[if lt IE 9]>

<script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>

![endif]-->
<!--fancybox-->

<script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script>
<script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>
<link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">
<script>
    $(document).ready(function () {
        $("img").each(function (index, item) {
            var p = $(item).parents()[0];
            if($(p).is('a')) {
                $(p).fancybox();
                return;
            }
            $(p).append(function() {return "<a id='fancybox_id_"+index+"' href='" + $(item).attr("src") + "'></a>";});
            item.remove();
            var fancyboxItem = $("#fancybox_id_" + index);
            fancyboxItem.append($(item));
            fancyboxItem.fancybox();
        });
    });
</script>

<!--baidu auto-push-->

<!--google analytics-->

<script color="255,255,255" opacity='0.9' zIndex="-1" count="150" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
</body>
</html>